server:
  port: 8083

spring:
  application:
    name: server-customer
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://172.31.38.196:3306/seata?serverTimezone=UTC&useSSL=false&allowPublicKeyRetrieval=true
    username: root
    password: 123456
  cloud:
    nacos:
      server-addr: 172.31.38.196:8848
      config:
        file-extension: yaml
        namespace: public
        group: DEFAULT_GROUP
        refresh-enabled: false
      discovery:
        group: DEFAULT_GROUP
        # 重要配置：防止注册过早失败
        register-enabled: true
        enabled: true
        # 心跳和重试配置
        heart-beat-interval: 5000  # 心跳间隔（毫秒）
        heart-beat-timeout: 15000  # 心跳超时
        ip-delete-timeout: 30000   # 实例删除超时
  redis:
    host: 172.31.38.196
    port: 6379
    database: 0
    password: 123456
    timeout: 2000ms
    lettuce:
      pool:
        max-active: 20
        max-idle: 10
        min-idle: 5
        max-wait: 1000ms
  elasticsearch:
    uris: 172.31.38.196
    index:

  rabbitmq:
    host: 172.31.38.196
    port: 5672
    virtual-host: /
    stream:
      username: guest
      password: guest
        # ??????????
      listener:
        type: simple
        simple:
          acknowledge-mode: auto  # ????
          auto-startup: true      # ????
          concurrency: 1          # ??????
          max-concurrent-consumers: 3
          prefetch: 10
          missing-queues-fatal: false  # ????????
          default-requeue-rejected: false

          # ????
          retry:
            enabled: true
            max-attempts: 3
            initial-interval: 1000ms
            multiplier: 2.0
            max-interval: 10000ms
# application.yml
xxl:
  job:
    admin:
      addresses: http://172.31.38.196:8093/xxl-job-admin
    accessToken:
    executor:
      appname: ${spring.application.name}
      ip: 172.17.0.9
      port: 8080
      logpath: /data/applogs/xxl-job/jobhandler
      logretentiondays: 30
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: org.example.serviceprovider.entity
  # Redis配置（用于Session共享）
